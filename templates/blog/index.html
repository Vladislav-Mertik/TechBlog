{% extends "base.html" %}
{% load static %}

{% block title %}Головна - TechBlog{% endblock %}

{% block content %}
<!-- Головна сторінка -->
<h1>Ласкаво просимо до TechBlog</h1>
<p>Найкращі матеріали про веб-розробку, програмування та IT-технології</p>

<!-- Рекомендовані статті -->
{% if featured_articles %}
<h2>Рекомендовані статті</h2>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">
    {% for article in featured_articles|slice:":3" %}
    <div class="card">
        <div class="card-body">
            <h3 class="card-title">{{ article.title }}</h3>
            <p class="card-text">{{ article.content|truncatewords:20 }}</p>
            <p><small>Автор: {{ article.author.username }} | Дата: {{ article.published_at|date:"d.m.Y" }}</small></p>
            <p><small>Переглядів: {{ article.views }} | Лайків: {{ article.likes }}</small></p>
            <a href="{% url 'blog:article_detail' article.id %}" class="btn btn-primary">Читати</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}

<!-- Всі статті -->
<h2>Всі статті</h2>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
    {% for article in articles|slice:":6" %}
    <div class="card">
        <div class="card-body">
            <h3 class="card-title">{{ article.title }}</h3>
            {% if article.is_featured %}
            <span class="badge bg-warning">Рекомендована</span>
            {% endif %}
            <p class="card-text">{{ article.content|truncatewords:30 }}</p>
            <p><small>Автор: {{ article.author.username }}</small></p>
            <p><small>Дата: {{ article.published_at|date:"d.m.Y H:i" }}</small></p>
            <a href="{% url 'blog:article_detail' article.id %}" class="btn btn-primary">Читати далі</a>
        </div>
    </div>
    {% endfor %}
</div>

<div style="text-align: center; margin-top: 30px;">
    <a href="{% url 'blog:articles_list' %}" class="btn btn-primary">Переглянути всі статті</a>
</div>
{% endblock %}
