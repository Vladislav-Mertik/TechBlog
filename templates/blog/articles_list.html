{% extends "base.html" %}
{% load static %}

{% block title %}Всі статті - TechBlog{% endblock %}

{% block content %}

<h1>Всі статті</h1>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 20px;">
    {% for article in articles %}
    <div class="card">
        <div class="card-body">
            <h2 class="card-title">
                <a href="{% url 'blog:article_detail' article.id %}" style="text-decoration: none; color: #333;">
                    {{ article.title }}
                </a>
            </h2>

            {% if article.is_featured %}
            <span class="badge bg-warning">Рекомендована</span>
            {% endif %}

            <p class="card-text">{{ article.content|truncatewords:50 }}</p>

            <div style="margin-bottom: 10px;">
                {% for tag in article.tags.all %}
                <span class="badge" style="background-color: {{ tag.color }}">{{ tag.name }}</span>
                {% endfor %}
            </div>

            <p><small>
                Автор: {{ article.author.username }} | 
                Дата: {{ article.published_at|date:"d.m.Y H:i" }} | 
                Переглядів: {{ article.views }} | 
                Лайків: {{ article.likes }}
            </small></p>

            <a href="{% url 'blog:article_detail' article.id %}" class="btn btn-primary btn-sm">
                Читати повністю
            </a>
        </div>
    </div>
    {% empty %}
    <div class="card">
        <div class="card-body">
            <p>Статей не знайдено.</p>
        </div>
    </div>
    {% endfor %}
</div>

{% endblock %}
